<section class="page cotizacion">
  <h2>Informaci√≥n del cuidado</h2>
  <p class="hint">Esta informaci√≥n nos ayuda a coordinar correctamente a nuestro equipo y estimar los tiempos de traslado y log√≠stica del cuidado ü§ç.</p>

  <hr />

  <div class="field" id="comunaWrap">
    <label for="comuna">Comuna de Santiago donde se realizar√° el cuidado. <span class="req">*</span></label>
    <select id="comuna">
      <option value="">Selecciona una comuna</option>
      <option>Cerrillos</option>
      <option>Cerro Navia</option>
      <option>Conchal√≠</option>
      <option>El Bosque</option>
      <option>Estaci√≥n Central</option>
      <option>Huechuraba</option>
      <option>Independencia</option>
      <option>La Cisterna</option>
      <option>La Florida</option>
      <option>La Granja</option>
      <option>La Pintana</option>
      <option>La Reina</option>
      <option>Las Condes</option>
      <option>Lo Barnechea</option>
      <option>Lo Espejo</option>
      <option>Lo Prado</option>
      <option>Macul</option>
      <option>Maip√∫</option>
      <option>√ëu√±oa</option>
      <option>Pedro Aguirre Cerda</option>
      <option>Pe√±alol√©n</option>
      <option>Providencia</option>
      <option>Pudahuel</option>
      <option>Quilicura</option>
      <option>Quinta Normal</option>
      <option>Recoleta</option>
      <option>Renca</option>
      <option>San Joaqu√≠n</option>
      <option>San Miguel</option>
      <option>San Ram√≥n</option>
      <option>Santiago</option>
      <option>Vitacura</option>
      <option>Comuna dentro de la Regi√≥n Metropolitana</option>
    </select>
  </div>

  <div class="field">
    <label for="direccion">Direcci√≥n donde se realizar√° el cuidado (calle, n√∫mero, casa/dpto). <span class="req">*</span></label>
    <input id="direccion" type="text" placeholder="Direcci√≥n del domicilio" />
  </div>

  <fieldset class="radio-group">
    <legend>¬øQu√© tan cerca est√° tu direcci√≥n del transporte p√∫blico?</legend>

    <label class="radio-item">
        <input type="radio" name="transporte" value="menos_10" />
        <span>Menos de 10 minutos caminando</span>
    </label>

    <label class="radio-item">
        <input type="radio" name="transporte" value="10_15" />
        <span>10-15 minutos caminando</span>
    </label>

    <label class="radio-item">
        <input type="radio" name="transporte" value="mas_15" />
        <span>M√°s de 15 minutos caminando</span>
    </label>
  </fieldset>

  <!-- TIPO DE SERVICIO -->
    <div class="panel">
        <label class="panel-title">Tipo de servicio</label>

        <fieldset class="radio-group">
            <label class="radio-item">
            <input type="radio" name="tipoServicio" value="ocasional" />
            <span>Ocasional (fechas puntuales)</span>
            </label>

            <label class="radio-item">
            <input type="radio" name="tipoServicio" value="periodico" />
            <span>Peri√≥dico (esquema semanal que se repite)</span>
            </label>
        </fieldset>
    </div>

    <!-- TURNO ADAPTATIVO -->
    <fieldset class="radio-group">
    <legend>
        ¬øDesea un turno adaptativo? Un turno de adaptaci√≥n consiste en una jornada inicial
        de cuidado para que tu hijo/a y la cuidadora se conozcan, se genere confianza y
        podamos acompa√±ar el proceso de forma respetuosa ‚ô°
    </legend>

    <label class="radio-item">
        <input type="radio" name="turnoAdaptativo" value="si" />
        <span>Si</span>
    </label>

    <label class="radio-item">
        <input type="radio" name="turnoAdaptativo" value="no" />
        <span>No</span>
    </label>
    </fieldset>
    <!-- FECHA ADAPTATIVA -->
    <div class="field" id="fechaAdaptativaWrap" style="display:none;">
      <label for="fechaAdaptativaInput">Fecha del turno adaptativo <span class="req">*</span></label>

      <div class="date-picker" data-key="fechaAdaptativa">
        <input id="fechaAdaptativaInput" class="date-input" type="text" placeholder="Selecciona una fecha" readonly autocomplete="off" />

        <div class="date-pop" hidden>
          <calendar-date class="date-cal"></calendar-date>
        </div>
      </div>
    </div>


    <!-- FECHA INICIO (solo peri√≥dico) -->
    <div class="field" id="fechaInicioWrap" style="display:none;">
      <label for="fechaInicioInput">¬øEn qu√© fecha deseas partir? <span class="req">*</span></label>

      <div class="date-picker" data-key="fechaInicio">
        <input id="fechaInicioInput" class="date-input" type="text"
          placeholder="Selecciona una fecha" readonly autocomplete="off" />

        <div class="date-pop" hidden>
          <calendar-date class="date-cal"></calendar-date>
        </div>
      </div>
    </div>
    
    <!-- SOLO si es Peri√≥dico -->
    <div class="field" id="diasWrap" style="display:none;">
        <label for="diasSemana">Cantidad de d√≠as a la semana <span class="req">*</span></label>
        <select id="diasSemana">
            <option value="">Selecciona</option>
            <option value="1">1 d√≠a</option>
            <option value="2">2 d√≠as</option>
            <option value="3">3 d√≠as</option>
            <option value="4">4 d√≠as</option>
            <option value="5">5 d√≠as</option>
            <option value="6">6 d√≠as</option>
            <option value="7">7 d√≠as</option>
        </select>
    </div>

    <div id="diasHorariosWrap" class="dias-horarios-wrap"></div>

    <template id="diaRowTemplate">
        <div class="dia-row">
            <div class="col">
            <label class="js-dia-label">D√≠a 1</label>
            <select class="select js-dia">
                <option value="">Seleccione</option>
                <option value="lunes">Lunes</option>
                <option value="martes">Martes</option>
                <option value="miercoles">Mi√©rcoles</option>
                <option value="jueves">Jueves</option>
                <option value="viernes">Viernes</option>
                <option value="sabado">S√°bado</option>
                <option value="domingo">Domingo</option>
            </select>
            </div>

            <div class="col">
            <label>Hora inicio</label>
            <input class="input js-inicio" type="time" />
            </div>

            <div class="col">
            <label>Hora t√©rmino</label>
            <input class="input js-termino" type="time" />
            </div>

            <div class="turno-error"></div>
        </div>
    </template>

    <!-- SOLO si es Ocasional -->
    <div class="field" id="ocasionalWrap" style="display:none;">
      <label for="fechasOcasionalesInput">
        Selecciona las fechas del mes (puedes elegir varias) <span class="req">*</span>
      </label>

      <div class="date-picker" data-key="fechasOcasionales">
        <input
          id="fechasOcasionalesInput"
          class="date-input"
          type="text"
          placeholder="Selecciona 1 o m√°s fechas"
          readonly
          autocomplete="off"
        />
      </div>

      <div id="ocasionalTurnosList" class="ocasional-turnos"></div>

      <template id="ocasionalTurnoTemplate">
        <div class="ocasional-turno">
          <div class="ocasional-head">
            <div class="ocasional-date js-ocasional-date">05/02/2026</div>
            <button type="button" class="ocasional-remove js-ocasional-remove" aria-label="Quitar fecha">‚úï</button>
          </div>

          <div class="ocasional-times">
            <div class="col">
              <label>Hora inicio <span class="req">*</span></label>
              <input class="input js-ocasional-inicio" type="time" />
            </div>

            <div class="col">
              <label>Hora t√©rmino <span class="req">*</span></label>
              <input class="input js-ocasional-termino" type="time" />
            </div>
          </div>

          <div class="turno-error js-ocasional-error"></div>
        </div>
      </template>
    </div>

    <p>Total horas mensuales: <strong id="horasMensualesTxt">0</strong></p>
</section>

<dialog id="feriadosModal" class="mp-modal">
  <form method="dialog" class="mp-modal__card">
    <div class="mp-modal__header">
      <div class="mp-modal__icon" aria-hidden="true">‚ö†Ô∏è</div>
      <div class="mp-modal__titles">
        <h3 class="mp-modal__title">Feriados detectados</h3>
        <p class="mp-modal__subtitle">
          Tu turno incluye d√≠as feriados. Estos d√≠as tienen <strong>recargo fijo de $15.000</strong> por dia, independiente de la cantidad de horas del turno.
        </p>
      </div>
      <button class="mp-modal__close" value="cancel" aria-label="Cerrar">‚úï</button>
    </div>

    <div class="mp-modal__body">
      <ul id="feriadosModalList" class="mp-modal__list"></ul>
      <p class="mp-modal__note">
        Si deseas, podemos ajustar el calendario.
      </p>
    </div>

    <div class="mp-modal__footer">
      <button class="mp-btn mp-btn--ghost" value="cancel">Entendido</button>
    </div>
  </form>
</dialog>

<div id="nocturnoWarning" class="warn-box" hidden>
  <strong>Turno nocturno detectado</strong>
  <div class="warn-text">
    Si el turno cruza medianoche (ej: 23:00‚Äì06:00), puede aplicarse un sobrecargo por transporte del/la profesional,
    sujeto al costo de una aplicaci√≥n de transporte hasta el domicilio del/la profesional.
  </div>
</div>